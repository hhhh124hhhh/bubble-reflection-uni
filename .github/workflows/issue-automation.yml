name: é—®é¢˜æ¨¡æ¿

on:
  issues:
    types: [opened]

jobs:
  auto-label:
    runs-on: ubuntu-latest
    if: github.event_name == 'issues'
    
    steps:
    - name: è‡ªåŠ¨æ ‡ç­¾
      uses: actions/github-script@v7
      with:
        script: |
          const issue = context.payload.issue;
          const labels = [];
          
          // æ ¹æ®é—®é¢˜æ ‡é¢˜å’Œå†…å®¹è‡ªåŠ¨æ·»åŠ æ ‡ç­¾
          if (issue.title.includes('bug') || issue.body.includes('é”™è¯¯') || issue.body.includes('é—®é¢˜')) {
            labels.push('bug');
          }
          
          if (issue.title.includes('feature') || issue.title.includes('åŠŸèƒ½') || issue.body.includes('å»ºè®®')) {
            labels.push('enhancement');
          }
          
          if (issue.title.includes('æ–‡æ¡£') || issue.body.includes('document') || issue.body.includes('è¯´æ˜')) {
            labels.push('documentation');
          }
          
          if (labels.length > 0) {
            github.rest.issues.addLabels({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: issue.number,
              labels: labels
            });
          }
          
    - name: æ·»åŠ æ¬¢è¿è¯„è®º
      uses: actions/github-script@v7
      with:
        script: |
          const issue = context.payload.issue;
          
          await github.rest.issues.createComment({
            owner: context.repo.owner,
            repo: context.repo.repo,
            issue_number: issue.number,
            body: `ğŸ‘‹ æ„Ÿè°¢æ‚¨æäº¤é—®é¢˜ï¼æˆ‘ä»¬å›¢é˜Ÿä¼šå°½å¿«æŸ¥çœ‹å¹¶å›å¤ã€‚

è¯·ç¡®ä¿æ‚¨æä¾›äº†è¶³å¤Ÿçš„ä¿¡æ¯æ¥å¸®åŠ©æˆ‘ä»¬ç†è§£å’Œè§£å†³é—®é¢˜ï¼š

- ğŸ“ **é—®é¢˜æè¿°**: æ¸…æ™°æè¿°æ‚¨é‡åˆ°çš„é—®é¢˜
- ğŸ”§ **å¤ç°æ­¥éª¤**: å¦‚ä½•é‡ç°è¿™ä¸ªé—®é¢˜
- ğŸ’» **ç¯å¢ƒä¿¡æ¯**: æ‚¨ä½¿ç”¨çš„å¹³å°ã€ç‰ˆæœ¬ç­‰
- ğŸ“¸ **æˆªå›¾/å½•å±**: å¦‚æœå¯èƒ½ï¼Œè¯·æä¾›è§†è§‰è¯æ®

å†æ¬¡æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼ğŸ«§âœ¨`
          });